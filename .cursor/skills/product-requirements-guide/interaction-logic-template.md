# 交互逻辑模板

> 与墨刀原型配合使用：墨刀负责**视觉与流程**，本文档负责**状态、校验、边界**等逻辑说明，供前端开发实现。

## 1. 原型链接

| 项目 | 内容 |
|------|------|
| 墨刀原型 | [链接名称](https://...) |
| 说明 | 原型展示页面布局与主流程，具体交互逻辑见下文 |

---

## 2. 交互逻辑表

按页面/模块分组，每条描述一个可操作的交互点。

### 2.1 表头说明

| 列 | 说明 | 示例 |
|----|------|------|
| 页面/组件 | 所属页面或组件 | 项目列表、新建项目弹窗 |
| 交互点 | 用户操作的对象 | 点击「新建」、输入项目名称 |
| 触发 | 用户动作 | 点击、输入、选择、失焦 |
| 前置条件 | 满足后才执行 | 表单已填写、已选择至少一项 |
| 行为 | 执行步骤（1→2→3） | 1. 显示 loading 2. 调用 API 3. 关闭弹窗 |
| 结果/状态 | 成功后的界面状态 | 列表刷新、弹窗关闭 |
| 异常/边界 | 失败或特殊情况的处理 | 网络错误→toast 提示；空列表→显示空状态 |

### 2.2 模板表格

#### [页面/模块名称]

| 页面/组件 | 交互点 | 触发 | 前置条件 | 行为 | 结果/状态 | 异常/边界 |
|-----------|--------|------|----------|------|-----------|-----------|
| 项目列表 | 「新建」按钮 | 点击 | 无 | 1. 打开新建弹窗 | 弹窗展示 | - |
| 新建弹窗 | 「提交」按钮 | 点击 | 表单校验通过 | 1. 按钮置灰 2. 请求 API 3. 成功则关闭 | 弹窗关闭，列表刷新 | 校验失败→字段标红；网络错误→toast，按钮恢复 |
| 新建弹窗 | 项目名称输入框 | 失焦 | 已输入内容 | 1. 校验非空 2. 校验长度≤50 | - | 不通过→下方显示错误文案 |
| 项目列表 | 空状态 | 进入页面 | 无项目数据 | 显示空状态插画+引导文案 | - | - |

---

## 3. 状态说明（可选）

当页面存在多种状态切换时，用状态表说明。

| 状态 | 说明 | 进入条件 | 退出条件 |
|------|------|----------|----------|
| 初始 | 页面加载完成，无操作 | 页面进入 | 用户开始操作 |
| 加载中 | 请求进行中 | 发起请求 | 请求返回 |
| 成功 | 操作完成 | 请求成功 | 用户继续操作 |
| 错误 | 操作失败 | 请求失败 | 用户重试或关闭 |

---

## 4. 校验规则（可选）

集中列出表单或输入的校验规则，便于前端统一实现。

| 字段 | 规则 | 错误提示 |
|------|------|----------|
| 项目名称 | 必填，1–50 字符 | 请输入项目名称 / 名称不能超过 50 个字符 |
| 截止日期 | 可选，不能早于今天 | 截止日期不能早于今天 |

---

## 5. 使用原则

- **不重复墨刀**：布局、跳转路径、视觉反馈以墨刀为准
- **聚焦逻辑**：何时禁用、何时校验、失败怎么处理、空数据怎么展示
- **可执行**：前端能据此写出 `if/else` 和状态管理
