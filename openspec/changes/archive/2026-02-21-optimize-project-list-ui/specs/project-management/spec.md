# Spec Delta: optimize-project-list-ui (project-management)

## ADDED Requirements

### Requirement: 项目列表页无页面级主标题与副标题

项目列表页 SHALL 不展示页面级主标题（如「项目管理」）及其副标题（小字）；容器内 SectionContainer 可保留标题（沿用现有 i18n 或简短文案），仅移除页面顶部的重复标题区块。

#### Scenario: 访问项目列表页无顶部主副标题
- **GIVEN** 用户进入项目列表页
- **WHEN** 页面渲染完成
- **THEN** 页面顶部不显示主标题（h1）
- **AND** 页面顶部不显示副标题（小字段落）

#### Scenario: 容器内仍可显示区域标题
- **GIVEN** 项目列表页使用 SectionContainer 包裹列表
- **WHEN** 用户查看列表区域
- **THEN** SectionContainer 内可保留标题（如「项目管理」或简短「项目」）
- **AND** 筛选器、添加按钮等与标题同行的控件仍正常显示

---

### Requirement: 项目列表容器内容可滚动

项目列表所在容器 SHALL 在内容超出视口时出现垂直滚动，避免整页被撑长。

#### Scenario: 内容超出时出现滚动
- **GIVEN** 项目列表页已加载且项目数量较多
- **WHEN** 列表内容高度超过容器可见高度
- **THEN** 容器内出现垂直滚动条（或可垂直滑动）
- **AND** 用户可在容器内滚动查看全部卡片，而不撑长整页

#### Scenario: 内容未超出时无多余滚动条
- **GIVEN** 项目列表页已加载且项目数量较少
- **WHEN** 列表内容高度未超过容器可见高度
- **THEN** 不强制出现滚动条
- **AND** 布局与现有一致

---

### Requirement: 项目卡片自定义背景图

项目 SHALL 支持可选的自定义封面/背景图（如通过 URL）；列表卡片在存在背景图时优先展示该背景图，否则使用按类型区分的纯色背景；创建/编辑流程中 SHALL 提供背景图上传入口（拖拽与点击上传）。

#### Scenario: 卡片有背景图时展示背景图
- **GIVEN** 某项目已设置背景图 URL（如 coverImageUrl）
- **WHEN** 用户在项目列表页查看该项目卡片
- **THEN** 该卡片使用所设背景图作为背景展示
- **AND** 卡片前景内容（标题、描述、状态等）仍清晰可读

#### Scenario: 卡片无背景图时使用纯色背景
- **GIVEN** 某项目未设置背景图或 URL 无效
- **WHEN** 用户在项目列表页查看该项目卡片
- **THEN** 该卡片使用按项目类型区分的纯色背景（与现有行为一致）
- **AND** 不影响其他卡片展示

#### Scenario: 创建或编辑时可设置背景图
- **GIVEN** 用户打开创建项目或编辑项目（抽屉/表单）
- **WHEN** 用户查看表单
- **THEN** 表单提供背景图上传入口（拖拽与点击上传）
- **AND** 保存后列表卡片可展示该背景图

---

### Requirement: 背景图上传组件样式与状态

创建/编辑项目时的背景图设置 SHALL 通过上传组件实现；组件 SHALL 包含上方虚线框投放区与下方文件列表区，并支持四种状态的样式与行为。

#### Scenario: 初始空状态
- **GIVEN** 用户打开背景图上传区域且尚未选择文件
- **WHEN** 用户查看上传区域
- **THEN** 上方显示虚线边框的投放区
- **AND** 投放区内显示主文案（点击或拖拽文件到此处上传）与副文案（支持单文件或批量上传、禁止上传公司数据等）
- **AND** 支持点击投放区打开文件选择框
- **AND** 支持将文件拖入投放区触发上传

#### Scenario: 上传中显示进度条
- **GIVEN** 用户已选择或拖入文件并开始上传
- **WHEN** 上传进行中
- **THEN** 下方列表区显示该文件的一条记录
- **AND** 该条记录下方显示上传进度条

#### Scenario: 上传成功展示预览
- **GIVEN** 背景图上传成功
- **WHEN** 用户查看上传组件
- **THEN** 上方投放区内展示背景图预览（不再显示「点击或拖拽…」占位）
- **AND** 下方列表可保留该文件记录，右侧提供删除（垃圾桶）图标便于移除后重选

#### Scenario: 上传失败样式与删除
- **GIVEN** 某次上传失败
- **WHEN** 用户查看下方文件列表
- **THEN** 失败项的文件名显示为红色
- **AND** 失败项左侧显示红色附件图标、右侧显示红色垃圾桶图标
- **AND** 用户可通过垃圾桶图标删除该失败记录
