# Spec Delta: refine-project-cards-and-deadline (project-management)

## ADDED Requirements

### Requirement: 项目列表卡片容器内滚动

项目列表页 SHALL 在列表内容超出视口时，仅卡片所在内容区域在容器内垂直滚动，不撑长整页；标题、筛选器与添加按钮等头部区域 SHALL 保持固定不随内容滚动。

#### Scenario: 内容超出时仅卡片区域滚动
- **GIVEN** 项目列表页已加载且项目数量较多
- **WHEN** 列表内容高度超过容器可见高度
- **THEN** 仅卡片列表所在区域出现垂直滚动条（或可垂直滑动）
- **AND** 用户可在该区域内滚动查看全部卡片
- **AND** 整页不随内容撑长，头部（标题、筛选、添加按钮）保持固定

#### Scenario: 内容未超出时无多余滚动
- **GIVEN** 项目列表页已加载且项目数量较少
- **WHEN** 列表内容高度未超过容器可见高度
- **THEN** 不强制出现滚动条
- **AND** 布局与现有一致

---

### Requirement: 项目卡片紧凑尺寸

项目列表卡片 SHALL 采用紧凑尺寸（如更小的内边距、字号、头像/图标与进度条高度），使一屏可展示更多卡片；具体尺寸由实现与设计约定，并保持可读性与可点击性。

#### Scenario: 一屏可见更多卡片
- **GIVEN** 用户进入项目列表页
- **WHEN** 项目数量足以填满一屏
- **THEN** 一屏内可见的卡片数量多于优化前（或与设计目标一致）
- **AND** 卡片标题、描述、状态与进度仍清晰可读
- **AND** 卡片仍可正常点击进入详情

#### Scenario: 卡片尺寸与布局一致
- **GIVEN** 项目列表页使用紧凑尺寸
- **WHEN** 用户查看任意项目卡片
- **THEN** 单卡内边距、字号与图标等与设计约定一致
- **AND** 网格间距与列数配合紧凑尺寸，无大面积留白或拥挤

---

### Requirement: 截止时间按过期与临近状态展示

项目列表卡片上展示的截止时间 SHALL 按「已过期」「即将截止」「未临近」三种状态区分样式；已过期 SHALL 使用红色系并在时间前显示过期相关表情；即将截止 SHALL 使用黄色/琥珀色警告样式；未临近 SHALL 使用中性样式；颜色可根据当前进度与距截止时间逐渐加深，具体色值与阈值由实现与设计约定。

#### Scenario: 已过期显示红色与过期表情
- **GIVEN** 某项目的截止日期早于当前日期（已过期）
- **WHEN** 用户在项目列表页查看该项目卡片
- **THEN** 截止时间文字使用红色系样式
- **AND** 在时间前显示过期相关表情（如 ⏰ 或约定表情）
- **AND** 可根据过期程度使用更深红色

#### Scenario: 即将截止显示黄色警告
- **GIVEN** 某项目的截止日期未过期但在约定天数内（如 7 天内）
- **WHEN** 用户在项目列表页查看该项目卡片
- **THEN** 截止时间文字使用黄色或琥珀色警告样式
- **AND** 可根据距截止日剩余时间与当前进度使颜色逐渐加深（如越近且进度越低则越醒目）

#### Scenario: 未临近使用中性样式
- **GIVEN** 某项目的截止日期未过期且超过约定天数
- **WHEN** 用户在项目列表页查看该项目卡片
- **THEN** 截止时间文字使用中性样式（如灰色或与卡片其他次要文字一致）
- **AND** 不显示过期或警告表情

#### Scenario: 无截止日期时占位显示
- **GIVEN** 某项目未设置截止日期（endDate 为空或 null）
- **WHEN** 用户在项目列表页查看该项目卡片
- **THEN** 截止时间位置显示占位（如「-」）
- **AND** 不显示过期或警告表情
- **AND** 样式与未临近一致
